{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}
<div class="container">
    <h2>Login</h2>
    <form method="POST">
        {% csrf_token %}
        
        <div class="mb-3">
            <label>Username or Email:</label>
            <input type="text" name="username" class="form-control" required>
        </div>
        
        <div class="mb-3">
            <label>Password:</label>
            <div class="input-group">
                <input type="password" name="password" class="form-control" id="password" required>
                <button type="button" class="btn btn-outline-secondary" onclick="togglePasswordVisibility()">
                    <img id="password_toggle_icon" src="https://img.icons8.com/ios-filled/50/000000/invisible.png" alt="Toggle visibility">
                </button>
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary">Login</button>
        <a href="{% url 'forget_password' %}">Forgot Password?</a>

    </form>
    <p>Don't have an account? <a href="{% url 'signup' %}">Sign up</a></p>
</div>

<script>
    // JavaScript function to toggle password visibility
    function togglePasswordVisibility() {
        var passwordField = document.getElementById("password");
        var toggleIcon = document.getElementById("password_toggle_icon");
        if (passwordField.type === "password") {
            passwordField.type = "text";  // Change to text to show the password
            toggleIcon.src = "https://img.icons8.com/ios-filled/50/000000/visible.png";  // Eye-open icon
        } else {
            passwordField.type = "password";  // Change back to password field
            toggleIcon.src = "https://img.icons8.com/ios-filled/50/000000/invisible.png";  // Eye-closed icon
        }
    }
</script>

{% endblock %}
